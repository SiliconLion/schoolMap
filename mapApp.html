<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>HHS Map App</title>
    <!-- <link href="index.css" rel="stylesheet" type="text/css" /> -->
  </head>
  <body>
    <canvas id="myCanvas" width="800" height="800"  ></canvas>
    <canvas id="hiddenCanvas" width="800" height="800"  ></canvas>
    <canvas id="visibleCanvas" width="800" height="800"  ></canvas>
    <img id="bluePrint" width="220" height="277" src="testMap.png" >
    <input type="button" value="Make Hallway nodes disapear" onclick="makeHallwaysInvisible()">
    <input type="button" value="Make Hallway nodes reappear" onclick="makeHallwaysVisible()">
    <input type="button" value="Refresh Path Display" onClick="redrawVTX()">
    <script>
      window.onload = function() {
          var c = document.getElementById("myCanvas");
          var ctx = c.getContext("2d");
          var img = document.getElementById("bluePrint");
          ctx.drawImage(img, 10, 10);
          htx.fillStyle="#FFFFFF";
          htx.fillRect(0,0,800,800);

      }
    </script>

    <script src="Connection.js"></script>
    <script src="findPath.js"></script>
    <script src="Node.js"></script>
    <script src="Room.js"></script>
    <script src="hiddenMap.js"></script>
    <script src="mapMain.js"></script>
    <script>

    //listens for keydown events. when called, passes the keydown event to the keydown handler
      document.addEventListener('keydown', event => { eventHandleKeyDown(event) } );
      //listens for keyup events. when called, passes the keyup event to the keyup handler
      document.addEventListener('keyup', event => { eventHandleKeyUp(event) } );
    </script>


    <script>
    //creates a node where clicked, and displays it
    document.getElementById("myCanvas").onclick = function() {
      /* x and y coords adjusted for the canvas. (clientX & clientY are offset from
      the cordinate system of the canvas. we use 'getBoundingClientRect' to
      adjust the client coord system, to the canvas coord system*/
      var xCoord = event.clientX - myCanvas.getBoundingClientRect().left;
      var yCoord = event.clientY - myCanvas.getBoundingClientRect().top;
      console.log(xCoord, yCoord);
      clickHandler(xCoord, yCoord);
      //this is a bad way to do this, i just want to see if other stuff works
      redraw();
    }
    document.getElementById("hiddenCanvas").onclick = function() {
      /* x and y coords adjusted for the canvas. (clientX & clientY are offset from
      the cordinate system of the canvas. we use 'getBoundingClientRect' to
      adjust the client coord system, to the canvas coord system*/
      var xCoord = event.clientX - hiddenCanvas.getBoundingClientRect().left;
      var yCoord = event.clientY - hiddenCanvas.getBoundingClientRect().top;
      console.log("hidden Canvas", xCoord, yCoord);
      console.log(getRoomByColor(getColorAtPixle(xCoord,yCoord)));

    }
    </script>



  </body>
</html>
